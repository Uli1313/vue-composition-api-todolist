import{r as v,w as $,c as y,o as a,a as i,b as e,d as b,v as x,e as k,n as r,F as _,f as S,t as m,g as I}from"./index-DKQOPxHR.js";const K={class:"bg-white d-flex align-items-center rounded-2 position-relative mb-2"},N=e("i",{class:"bi bi-plus-lg d-block text-white fw-bold fs-2"},null,-1),U=[N],B={class:"bg-white rounded-2"},E={class:"nav nav-underline flex-nowrap gap-0 text-center"},L={class:"nav-item w-100"},j=["disabled"],F={class:"nav-item w-100"},J=["disabled"],M={class:"nav-item w-100"},O=["disabled"],z={class:"px-4"},A={key:0,class:"list-unstyled mb-0"},q=["onKeyup"],G={class:"form-check"},H=["id","onUpdate:modelValue"],P=["for","onDblclick"],Q=["onClick"],R=e("i",{class:"bi bi-x-circle"},null,-1),W=[R],X={key:1,class:"text-center py-5"},Y={class:"py-3 d-flex justify-content-between"},te={__name:"TodoView",setup(Z){const w=JSON.parse(localStorage.getItem("todoLocalData"))||[],c=v(""),s=v(w),f=()=>{c.value&&s.value.push({id:Date.now(),text:c.value,done:!1}),c.value=""},g=l=>{s.value=s.value.filter(o=>o.id!==l)},p=v(null),u=v(""),C=l=>{p.value=l.id,u.value=l.text},D=l=>{const o=s.value.findIndex(t=>t.id===l.id);s.value[o].text=u.value,u.value="",p.value=""};$(()=>{localStorage.setItem("todoLocalData",JSON.stringify(s.value))});const n=v("all"),h=y(()=>n.value==="active"?s.value.filter(l=>!l.done):n.value==="completed"?s.value.filter(l=>l.done):s.value),T=y(()=>s.value.filter(l=>l.done).length),V=()=>{s.value=s.value.filter(l=>!l.done)};return(l,o)=>(a(),i(_,null,[e("div",K,[b(e("input",{type:"text",class:"form-control py-2",style:{height:"48px"},placeholder:"請輸入待辦事項","onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),onKeyup:k(f,["enter"])},null,544),[[x,c.value]]),e("button",{type:"button",class:"btn btn-dark position-absolute lh-1 p-1",style:{right:"4px",top:"4px"},onClick:f},U)]),e("div",B,[e("ul",E,[e("li",L,[e("button",{type:"button",class:r(["nav-link w-100",{active:n.value==="all"}]),onClick:o[1]||(o[1]=t=>n.value="all"),disabled:n.value==="all"},"全部",10,j)]),e("li",F,[e("button",{type:"button",class:r(["nav-link w-100",{active:n.value==="active"}]),onClick:o[2]||(o[2]=t=>n.value="active"),disabled:n.value==="active"},"待完成",10,J)]),e("li",M,[e("button",{type:"button",class:r(["nav-link w-100",{active:n.value==="completed"}]),onClick:o[3]||(o[3]=t=>n.value="completed"),disabled:n.value==="completed"},"已完成",10,O)])]),e("div",z,[h.value.length?(a(),i("ul",A,[(a(!0),i(_,null,S(h.value,t=>(a(),i("li",{key:t.id,class:"py-3 border-bottom d-flex justify-content-between"},[p.value===t.id?b((a(),i("input",{key:0,type:"text",class:"form-control border","onUpdate:modelValue":o[4]||(o[4]=d=>u.value=d),onKeyup:k(d=>D(t),["enter"])},null,40,q)),[[x,u.value]]):(a(),i(_,{key:1},[e("div",G,[b(e("input",{class:"form-check-input",type:"checkbox",id:t.id,"onUpdate:modelValue":d=>t.done=d},null,8,H),[[I,t.done]]),e("label",{class:r(["form-check-label",{"text-primary text-decoration-line-through":t.done}]),for:t.id,onDblclick:d=>C(t)},m(t.text),43,P)]),e("button",{type:"button",class:"btn p-0",onClick:d=>g(t.id)},W,8,Q)],64))]))),128))])):(a(),i("p",X,"這邊還沒有項目喔")),e("div",Y,[e("p",null,m(T.value)+" 個已完成項目",1),e("button",{type:"button",class:"btn p-0",onClick:V},"清除已完成項目")])])])],64))}};export{te as default};
